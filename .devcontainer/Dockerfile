# Dockerfile para Codespaces / DevContainer
FROM mcr.microsoft.com/vscode/devcontainers/base:ubuntu

# Instala dependÃªncias bÃ¡sicas
RUN apt-get update && \
    apt-get install -y curl && \
    rm -rf /var/lib/apt/lists/*

# Executa o script de instalaÃ§Ã£o do Phlow
RUN curl -fsSL https://raw.githubusercontent.com/phlowdotdev/phlow/main/scripts/install-phlow.sh | bash || true

# (opcional) Garante que ~/.bashrc tenha o PATH do Phlow
RUN echo 'export PATH="$HOME/.phlow:$PATH"' >> /root/.bashrc

RUN echo '\n# Phlow Welcome Message\n' >> /root/.bashrc && \
    echo 'echo "\nðŸŽ‰ Welcome to Phlow Development Environment! ðŸŽ‰"' >> /root/.bashrc && \
    echo 'echo "ðŸŒ Visit: https://phlow.dev"' >> /root/.bashrc && \
    echo 'echo "ðŸš€ To start, run: phlow run your_flow.yaml"' >> /root/.bashrc && \
    echo 'echo ""' >> /root/.bashrc

RUN echo '\n# Phlow Welcome Message\n' >> /root/.zshrc && \
    echo 'echo "\nðŸŽ‰ Welcome to Phlow Development Environment! ðŸŽ‰"' >> /root/.zshrc && \
    echo 'echo "ðŸŒ Visit: https://phlow.dev"' >> /root/.zshrc && \
    echo 'echo "ðŸš€ To start, run: phlow run your_flow.yaml"' >> /root/.zshrc && \
    echo 'echo ""' >> /root/.zshrc